// ========== ì–¸ì–´ ì„¤ì • ==========

const translations = {
    ko: {
        // index.html
        mainTitle: 'ğŸº Voca for you',
        mainSubtitle: 'ë‹¹ì‹ ì˜ ì–´íœ˜ ì‹¤ë ¥ í–¥ìƒì„ ìœ„í•œ í•™ìŠµ í”Œë«í¼',
        menuEnglish: 'ì˜ì–´ ê³µë¶€',
        menuEnglishDesc: 'ë‹¤ì–‘í•œ ì‹œí—˜ ì¤€ë¹„ë¥¼ ìœ„í•œ ì–´íœ˜ í•™ìŠµ',
        menuKorean: 'í•œêµ­ì–´ ê³µë¶€',
        menuKoreanDesc: 'TOPIK ì‹œí—˜ ì¤€ë¹„ë¥¼ ìœ„í•œ ì–´íœ˜ í•™ìŠµ',
        menuStats: 'í•™ìŠµ í†µê³„',
        menuStatsDesc: 'ë‚˜ì˜ í•™ìŠµ í˜„í™©ê³¼ ì„±ê³¼ í™•ì¸',
        issueReportText: 'ğŸ’¡ ì´ìŠˆ ì‹ ê³  / ê°œì„  ì•„ì´ë””ì–´',
        issueTitle: 'ì´ìŠˆ ì‹ ê³  / ê°œì„  ì•„ì´ë””ì–´',
        issueDesc: 'ì•„ë˜ ì´ë©”ì¼ë¡œ ë‚´ìš©ì„ ì „ë‹¬í•´ ì£¼ì„¸ìš”:',
        issueCloseBtn: 'ë‹«ê¸°',
        
        // korean-collections.html
        backText: 'ë’¤ë¡œ',
        koreanStudyTitle: 'í•œêµ­ì–´ ê³µë¶€',
        koreanStudyDesc: 'í•™ìŠµí•  TOPIK ë ˆë²¨ì„ ì„ íƒí•˜ì„¸ìš”',
        topik12Title: 'TOPIK 1~2ê¸‰ ëŒ€ë¹„',
        topik12Desc: 'ì´ˆê¸‰ í•œêµ­ì–´ í•„ìˆ˜ ì–´íœ˜',
        topik34Title: 'TOPIK 3~4ê¸‰ ëŒ€ë¹„',
        topik34Desc: 'ì¤‘ê¸‰ í•œêµ­ì–´ í•„ìˆ˜ ì–´íœ˜',
        topik56Title: 'TOPIK 5~6ê¸‰ ëŒ€ë¹„',
        topik56Desc: 'ê³ ê¸‰ í•œêµ­ì–´ í•„ìˆ˜ ì–´íœ˜',
        comingSoon1: 'ğŸ”’ ì¤€ë¹„ì¤‘',
        comingSoon2: 'ğŸ”’ ì¤€ë¹„ì¤‘',
        comingSoon3: 'ğŸ”’ ì¤€ë¹„ì¤‘',
        
        // collections.html
        englishStudyTitle: 'ì˜ì–´ ê³µë¶€',
        englishStudyDesc: 'í•™ìŠµí•  ì‹œí—˜ ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”',
        ieltsTitle: 'IELTS Vocabulary',
        ieltsDesc: 'Band 5-7 ìˆ˜ì¤€ì˜ í•„ìˆ˜ ì–´íœ˜',
        ieltsStats: '1,050ê°œ ë‹¨ì–´',
        ieltsLevels: '30ê°œ ë ˆë²¨',
        toeicTitle: 'TOEIC Vocabulary',
        toeicDesc: 'ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì–´ í•„ìˆ˜ ì–´íœ˜',
        toeflTitle: 'TOEFL Vocabulary',
        toeflDesc: 'í•™ìˆ  ì˜ì–´ í•„ìˆ˜ ì–´íœ˜',
        comingSoonToeic: 'ğŸ”’ ì¤€ë¹„ì¤‘',
        comingSoonToefl: 'ğŸ”’ ì¤€ë¹„ì¤‘'
    },
    en: {
        // index.html
        mainTitle: 'ğŸº Voca for you',
        mainSubtitle: 'Your platform for vocabulary improvement',
        menuEnglish: 'English Study',
        menuEnglishDesc: 'Vocabulary learning for various exams',
        menuKorean: 'Korean Study',
        menuKoreanDesc: 'Vocabulary learning for TOPIK exams',
        menuStats: 'Learning Statistics',
        menuStatsDesc: 'Check your learning progress and achievements',
        issueReportText: 'ğŸ’¡ Report Issue / Improvement Ideas',
        issueTitle: 'Report Issue / Improvement Ideas',
        issueDesc: 'Please send your message to:',
        issueCloseBtn: 'Close',
        
        // korean-collections.html
        backText: 'Back',
        koreanStudyTitle: 'Korean Study',
        koreanStudyDesc: 'Select your TOPIK level',
        topik12Title: 'TOPIK Level 1~2',
        topik12Desc: 'Beginner Korean essential vocabulary',
        topik34Title: 'TOPIK Level 3~4',
        topik34Desc: 'Intermediate Korean essential vocabulary',
        topik56Title: 'TOPIK Level 5~6',
        topik56Desc: 'Advanced Korean essential vocabulary',
        comingSoon1: 'ğŸ”’ Coming Soon',
        comingSoon2: 'ğŸ”’ Coming Soon',
        comingSoon3: 'ğŸ”’ Coming Soon',
        
        // collections.html
        englishStudyTitle: 'English Study',
        englishStudyDesc: 'Select your exam type',
        ieltsTitle: 'IELTS Vocabulary',
        ieltsDesc: 'Essential vocabulary for Band 5-7',
        ieltsStats: '1,050 words',
        ieltsLevels: '30 levels',
        toeicTitle: 'TOEIC Vocabulary',
        toeicDesc: 'Business English essential vocabulary',
        toeflTitle: 'TOEFL Vocabulary',
        toeflDesc: 'Academic English essential vocabulary',
        comingSoonToeic: 'ğŸ”’ Coming Soon',
        comingSoonToefl: 'ğŸ”’ Coming Soon'
    }
};

/**
 * ì–¸ì–´ ì„¤ì •
 */
function setLanguage(lang) {
    localStorage.setItem('selectedLanguage', lang);
    
    // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    if (lang === 'ko') {
        const koBtn = document.getElementById('langKo');
        if (koBtn) koBtn.classList.add('active');
    } else {
        const enBtn = document.getElementById('langEn');
        if (enBtn) enBtn.classList.add('active');
    }
    
    // í˜ì´ì§€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
    updatePageTexts(lang);
}

/**
 * í˜ì´ì§€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
 */
function updatePageTexts(lang) {
    const texts = translations[lang];
    
    Object.keys(texts).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            element.textContent = texts[key];
        }
    });
}

/**
 * í˜ì´ì§€ ë¡œë“œ ì‹œ ì–¸ì–´ ì„¤ì • ì ìš©
 */
window.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('selectedLanguage') || 'ko';
    
    // ì–¸ì–´ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
    if (savedLang === 'ko') {
        const koBtn = document.getElementById('langKo');
        if (koBtn) {
            koBtn.classList.add('active');
            const enBtn = document.getElementById('langEn');
            if (enBtn) enBtn.classList.remove('active');
        }
    } else {
        const enBtn = document.getElementById('langEn');
        if (enBtn) {
            enBtn.classList.add('active');
            const koBtn = document.getElementById('langKo');
            if (koBtn) koBtn.classList.remove('active');
        }
    }
    
    // í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
    updatePageTexts(savedLang);
});

/**
 * ì´ìŠˆ ì‹ ê³  ëª¨ë‹¬ í‘œì‹œ
 */
function showIssueReport() {
    document.getElementById('issueModal').classList.add('show');
}

/**
 * ì´ìŠˆ ì‹ ê³  ëª¨ë‹¬ ë‹«ê¸°
 */
function closeIssueReport() {
    document.getElementById('issueModal').classList.remove('show');
}